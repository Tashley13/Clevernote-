# Clevernote-

# API Docs

## NOTEBOOKS

### Get all Notebooks from current user

Returns all Notebooks created by the current user.

* Require Authentication: True
* Request:
    * Method: GET
    * URL: /notebooks
    * Body: none

* Successful Response
    * Status Code: 200
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
            "Notebooks": [{
                "id": 1,
                "title": "Joe's Notebook",
                "user_id": 3,
                "created_at": "2021-11-19 20:39:36",
                "updated_at": "2021-11-19 20:39:36"
            }]
            }
        ```

### Get all data from a specific Notebook

Returns all notes inside of selected Notebook.

* Require Authentication: True
* Request:
    * Method: GET
    * URL: /notebooks/:id  ?/note?
    * Body: none

* Successful Response
    * Status Code: 200
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
            "id": 1,
            "title": "Joe's Notebook",
            "user_id": 3,
            "created_at": "2021-11-19 20:39:36",
            "updated_at": "2021-11-19 20:39:36",
            "Notes": [{
                "id": 1,
                "title": "Joes Notebook",
                "content": "Stuff",
                "notebook_id": 1,
                "user_id": 3,
                "created_at": "2021-11-19 20:39:36",
                "updated_at": "2021-11-19 20:39:36"
            }]
            }
        ```

### Create a Notebook

Creates and returns a new Notebook.

* Require Authentication: True
* Request:
    * Method: POST
    * URL: /notebooks
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
            "title": "Tom's Notebook",
            "user_id": 4,
            }
        ```

* Successful Response
    * Status Code: 201
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
            "id": 2,
            "title": "Tom's Notebook",
            "user_id": 4,
            "created_at": "2021-11-19 20:39:36",
            "updated_at": "2021-11-19 20:39:36",
            }
        ```
* Error Response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request",
      "errors": {
        "title": "Title is required."
      }
    }
    ```

### Adding a Note to a Notebook

Adds the note to the notebook and then returns the note.

* Require Authentication: True
* Request:
    * Method: POST
    * URL: /notes/:id/notebooks
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
                "notebook_id": 2
            }
        ```

* Successful Response
    * Status Code: 201
    * Headers:
        * Content-Type: application/json
    * Body:
        ```json
            {
            "id": 1,
            "title": "Tom's Note",
            "notebook_id": 2,
            "user_id": 4,
            "created_at": "2021-11-19 20:39:36",
            "updated_at": "2021-11-19 20:39:36",
            }
        ```

* Error response: Couldn't find a Notebook with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Notebook couldn't be found"
    }
    ```

### Edit a Notebook

Updates and returns an existing notebook.

* Require Authentication: True
* Require proper authorization: Notebook must belong to the current user
* Request
  * Method: PUT
  * URL: /notebooks/:id
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "title": "Peter's Notebook"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
        "id": 2,
        "title": "Peter's Notebook",
    }
    ```

* Error Response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "title": "Title is required"
      }
    }
    ```

* Error response: Couldn't find a Notebook with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Notebook couldn't be found"
    }
    ```

### Delete a Notebook

Deletes an existing notebook.

* Require Authentication: True
* Require proper authorization: Notebook must belong to the current user
* Request
  * Method: DELETE
  * URL: /notebooks/:id
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Successfully deleted"
    }
    ```

* Error response: Couldn't find a Notebook with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Notebook couldn't be found"
    }
    ```
